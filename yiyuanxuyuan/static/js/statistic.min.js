var BfbStatistic=function(e,t){var n=+new Date+":"+"xxyx-xyxx-4xxx-yxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}),r={type:{defaults:"defaults",performance:"performance",churn_rate:"churn_rate",exception:"exception"},logid:n,url:"https://www.baifubao.com/tongji/performance/stat.jpg"};!function(){location.host&&!/baifubao\.com$/.test(location.host)&&(r.url="https://qianbao.baidu.com/tongji/performance/stat.jpg")}();var i=t.documentElement,o={tempImgList:[],createImg:function(n,r){var i=this.tempImgList,o=e.Image?new Image:t.createElement("img");i.push(o),r&&this.onload(o,r),o.src=n},each:function(e,t){for(var n in e){var r=e[n];t.call(r,n,r)}return e},extend:function(){var e,t,n,r,i,o,a=arguments[0]||{},c=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"!=typeof a&&"function"===!this.type(a)&&(a={}),s===c&&(a=this,--c);s>c;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(this.isPlainObject(r)||(i=this.isArray(r)))?(i?(i=!1,o=n&&this.isArray(n)?n:[]):o=n&&this.isPlainObject(n)?n:{},a[t]=this.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isMobile:function(){return new RegExp("android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge|maemo|midp|mmp|operam(ob|in)i|palm(os)?|phone|p(ixi|re)/|plucker|pocket|psp|symbian|treo|up.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino","gi").test(navigator.userAgent)},obj2str:function(e){var n=[];switch(!0){case"undefined"==typeof e:n="";break;case"string"==typeof e:n='"'+e.replace(/([\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';break;case"object"==typeof e:if("[object Array]"!==Object.prototype.toString.call(e)){for(var r in e)n.push('"'+r+'":'+this.obj2str(e[r]));t.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(e.toString())&&n.push("toString:"+e.toString.toString()),n="{"+n.join()+"}"}else{for(var i=0;i<e.length;i++)n.push(this.obj2str(e[i]));n="["+n.join()+"]"}break;default:n=e.toString().replace(/\"\:/g,'":""')}return n},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},onload:function(t,n){var r=!(!e.attachEvent||e.opera),i=!1,o=function(){i||(i=!0,t.onload=t.onerror=null,n&&n())};if(t.onload=t.onerror=function(){o()},r)var a=e.setInterval(function(){return i?void(a&&e.clearInterval(a)):void(("loaded"===t.readyState||"complete"===t.readyState)&&(a&&e.clearInterval(a),o()))},10)},param:function(e){var t=function(e){var t=[];for(var n in e){var i=e[n];"undefined"!=typeof i&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}return r.url+"?"+t.join("&")},n=t(e);return n.length>2083&&(e.refer="",n=t(e),n.length>2083)?void 0:n},sendData:function(n,i){var a=e.statisticPageId;if(a){var c=window.statisticExtendData||{},s=o.extend({type:r.type.defaults,refer:t.referrer||"",pageId:a,clientTime:+new Date,isMobile:o.isMobile(),spNo:e.statisticSpNo||"",logid:r.logid},c,n),l=o.param(s);l?o.createImg(o.param(s),i):i&&i()}else i&&i()},toUpperCaseFirst:function(e){return e.replace(/(^|\s+)\w/g,function(e){return e.toUpperCase()})},type:function(e){var t={};return this.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,n){t["[object "+n+"]"]=n.toLowerCase()}),null==e?String(e):t[Object.prototype.toString.call(e)]||"object"},unique:function(e,t){for(var n=[],r={},i=0,o=e.length;o>i;i++){var a=e[i];r[a[t]]||(r[a[t]]=!0,n.push(a))}return n}},a={init:function(){this.bindImgOnloadEvent(),this.bindDomReadyEvent(),this.bindWindowOnloadEvent()},bindDomReadyEvent:function(){var n=this,r=!1,o=!(!e.attachEvent||e.opera),a=function(){r||(r=!0,n.domReadyEndTime=+new Date)};o?(!function(){try{i.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}a()}(),t.onreadystatechange=function(){"complete"==t.readyState&&(t.onreadystatechange=null,a())}):t.addEventListener("DOMContentLoaded",function(){a()},!1)},bindWindowOnloadEvent:function(){var n=this,i=function(){var t=e.statisticStartTime,i=this.domReadyEndTime,a=this.firstScreenEndTime||i,c=e.statisticWhiteScreenEndTime||t+1,s={type:r.type.performance,isTiming:!1,startTime:t,whiteScreenTime:c-t,firstScreenTime:a-t,domReadyTime:i-t,onloadTime:+new Date-t};o.sendData(s,null),setTimeout(function(){var t=n.getTimingDetails();t=n.fixTimingData(t),t.isTiming&&o.isMobile()&&o.sendData(o.extend({},s,t,{pageId:e.statisticPageId+"_timing",firstScreenTime:a-t.startTime}),null)},10)};"complete"===t.readyState?i.call(this):o.on(e,"load",function(){i.call(n)})},bindImgOnloadEvent:function(){var e=this.getStyleImgList(),t=this.getTagImgList(),n=e.concat(t);n=o.unique(n,"url");for(var r=this,i=0,a=n.length;a>i;i++)!function(e){o.createImg(e.url,function(){var t=e.element;if(!r.isHidden(t)&&r.checkIsInFirstScreen(t)){var n=+new Date;(!r.firstScreenEndTime||n>r.firstScreenEndTime)&&(r.firstScreenEndTime=n)}})}(n[i])},checkIsInFirstScreen:function(e){var n=this.getClient(e);return n.left>=0&&n.left<(i.clientWidth||t.body.clientWidth)&&n.top>=0&&n.top<(i.clientHeight||t.body.clientHeight)},fixTimingData:function(t){return t.whiteScreenTime<=0&&(t.whiteScreenTime=e.statisticStartTime-t.startTime),t.domReadyTime<=0&&(t.domReadyTime=this.domReadyEndTime-t.startTime),t.onloadTime<=0&&(t.onloadTime=+new Date-t.startTime),t},getClient:function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return{left:n.left-i.clientLeft,top:n.top-i.clientTop}}for(var r=e.offsetLeft,o=e.offsetTop,a=e.offsetParent;null!==a&&a!==t.body;)r+=a.offsetLeft,o+=a.offsetTop,a=a.offsetParent;return{left:r-(i.scrollLeft||t.body.scrollLeft),top:o-(i.scrollTop||t.body.scrollTop)}},getCurrentStyle:function(e,t){try{return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null)[t]||document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(n){return null}},getStyleImgList:function(){for(var e=[],n=t.body.getElementsByTagName("*"),r=0,i=n.length;i>r;r++){var o=n[r];if("IMG"!==o.tagName&&!this.isHidden(o)){var a=this.getCurrentStyle(o,"backgroundImage");if(a&&-1!==a.indexOf("url")&&a.length<500){var c=a.split(/\(|\)/g)[1];c=c.replace(/\"+/g,""),e.push({element:o,url:c,type:"style"})}}}return e},getTagImgList:function(){for(var e=[],n=t.body.getElementsByTagName("img"),r=0,i=n.length;i>r;r++){var o=n[r],a=o.getAttribute("src");a&&a.length<500&&!this.isCache(a)&&e.push({element:o,url:a,type:"tag"})}return e},getTimingDetails:function(){try{var t=e.performance.timing,n=t.navigationStart;return o.extend({},t,{isTiming:!0,startTime:n,readyTime:t.fetchStart-t.navigationStart,redirectTime:t.redirectEnd-t.redirectStart,appcacheTime:t.domainLookupStart-t.fetchStart,unloadEventTime:t.unloadEventEnd-t.unloadEventStart,domainLookupTime:t.domainLookupEnd-t.domainLookupStart,connectTime:t.connectEnd-t.connectStart,networkTime:t.connectEnd-t.navigationStart,requestTime:t.responseStart-(t.requestStart||t.responseStart+1),responseTime:t.domContentLoadedEventStart?t.responseEnd-t.responseStart:-1,initDomTreeTime:t.domInteractive-t.responseEnd,whiteScreenTime:t.responseStart-n,domReadyTime:t.domContentLoadedEventEnd-n,onloadTime:t.loadEventEnd-n})}catch(r){return{isTiming:!1}}},isCache:function(e){return!e||-1!==e.indexOf("?")},isHidden:function(e){var t=this.getCurrentStyle(e,"display"),n=this.getCurrentStyle(e,"visibility");return"none"===t||"hidden"===n}},c={infoTemp:{},init:function(){o.on(e,"error",this.sendErrorInfo)},checkValid:function(e){try{var t=o.obj2str(e);return c.infoTemp[t]?!1:c.infoTemp[t]=!0}catch(n){}return!1},getErrorInfo:function(e){try{var t=e[0];return"string"==typeof t?[e[0],e[1],e[2],e[3],""]:[t.message||t.description,t.filename||t.fileName||t.sourceURL,t.lineno||t.lineNumber||t.line,t.colno||t.columnNumber,t.error?t.error.stack:t.stack||t.stacktrace]}catch(n){return!1}},sendErrorInfo:function(){var e=c.getErrorInfo(arguments);if(e&&o.isArray(e)){var t={type:r.type.exception,message:encodeURIComponent(e[0]||""),filename:encodeURIComponent(e[1]||""),pos:[e[2]||0,e[3]||0],stack:encodeURIComponent(e[4]||"")};c.checkValid(t)&&o.sendData(t,null)}}};try{a.init(),c.init()}catch(s){}return{sendData:o.sendData,sendErrorInfo:c.sendErrorInfo}}(window,document);